<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>ãƒãƒƒãƒ—</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <link rel="stylesheet" href="css/style.css" />
  <style>
    /* ---- æ—¢å­˜ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆç°¡ç•¥ã€‚å¿…è¦ã«å¿œã˜ã¦æ—¢å­˜CSSãŒå„ªå…ˆã•ã‚Œã¾ã™ï¼‰ ---- */
    .container{max-width:900px;margin:0 auto;padding:12px}
    .row{display:flex;gap:8px;flex-wrap:wrap}
    .btn{appearance:none;border:0;border-radius:12px;padding:12px 16px;font-weight:800;background:#005ABB;color:#fff;cursor:pointer}
    .btn-secondary{background:#e9eef6;color:#111}
    .legend{margin:8px 0;padding:8px 12px;font-size:14px;background:#f6f7fb;border-radius:10px;color:#333}

    /* ---- ã‚¹ãƒãƒƒãƒˆé¸æŠã®å¹ãå‡ºã—ï¼ˆæ—¢å­˜ï¼‰ ---- */
    .camera-chooser-overlay{
      position:fixed;inset:0;background:rgba(0,0,0,.55);backdrop-filter:blur(2px);
      z-index:998;display:block;
    }
    .camera-chooser{
      position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);
      width:min(92vw,560px);max-height:75vh;overflow:auto;background:#fff;border-radius:16px;
      box-shadow:0 18px 48px rgba(0,0,0,.3);padding:16px;z-index:999;
    }
    .camera-chooser[hidden], .camera-chooser-overlay[hidden]{display:none}
    .camera-chooser h3{margin:0 0 10px;font-size:18px}
    .camera-chooser .list{display:grid;grid-template-columns:1fr;gap:8px}
    .camera-chooser .item{display:flex;gap:10px;align-items:center;border:1px solid #e3eaf6;border-radius:12px;padding:10px}
    .camera-chooser .thumb{width:56px;height:56px;border-radius:10px;background:#eef5ff;flex:none;overflow:hidden}
    .camera-chooser .thumb img{width:100%;height:100%;object-fit:cover}
    .camera-chooser .meta{flex:1}
    .camera-chooser .meta .name{font-weight:800}
    .camera-chooser .meta .type{font-size:12px;color:#333}
    .camera-chooser .go{white-space:nowrap}

    /* ---- â˜… ã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆãƒ»ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆä»Šå›è¿½åŠ ï¼‰ ---- */
    .complete-overlay{
      position:fixed;inset:0;background:rgba(0,0,0,.6);backdrop-filter:blur(2px);
      z-index:1000;display:none;
    }
    .complete-overlay.is-open{display:block}
    .complete-modal{
      position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);
      width:min(92vw,560px);max-height:80vh;overflow:auto;background:#fff;border-radius:18px;
      box-shadow:0 20px 60px rgba(0,0,0,.35);padding:20px;z-index:1001;
      display:none;
    }
    .complete-modal.is-open{display:block}
    .complete-title{margin:0 0 6px;font-size:20px}
    .complete-lead{margin:0 0 14px}
    .complete-row{display:flex;gap:8px;flex-wrap:wrap}
    .complete-row .btn{flex:1;min-width:160px}
    .dim-when-modal{transition:opacity .2s ease}
    .dim-when-modal.is-dim{opacity:.15;pointer-events:none}

    /* iOSã‚»ãƒ¼ãƒ•ã‚¨ãƒªã‚¢ */
    .safe-pad-bottom{padding-bottom:max(18px,env(safe-area-inset-bottom))}
  </style>
</head>
<body>
  <div id="pageRoot" class="dim-when-modal">
    <div class="container">
      <header class="row">
        <button id="cameraBtn" class="btn">ã‚«ãƒ¡ãƒ©èµ·å‹•</button>
        <a class="btn btn-secondary" href="tutorial.html">ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</a>
      </header>

      <div class="legend">ãƒãƒƒãƒ—ã‹ã‚‰ã‚¹ãƒãƒƒãƒˆã‚’é¸ã³ã€ARã§ã‚¹ã‚¿ãƒ³ãƒ—ã‚’é›†ã‚ã¾ã—ã‚‡ã†ï¼ˆå…¨3ç®‡æ‰€ï¼šARã‚¹ãƒãƒƒãƒˆï¼‰</div>

      <!-- ã“ã“ã«ãƒãƒƒãƒ—æœ¬ä½“ã‚„ãƒ”ãƒ³ã€ã‚¹ã‚¿ãƒ³ãƒ—å¸³ãªã©æ—¢å­˜ã®DOMãŒã‚ã‚‹æƒ³å®š -->
      <div id="mapArea"><!-- æ—¢å­˜ã®ãƒãƒƒãƒ—UIã‚’ãã®ã¾ã¾æ®‹ã—ã¦ãã ã•ã„ --></div>
      <div id="stampBook"><!-- æ—¢å­˜ã®ã‚¹ã‚¿ãƒ³ãƒ—å¸³UIã‚’ãã®ã¾ã¾æ®‹ã—ã¦ãã ã•ã„ --></div>

      <!-- å®Œäº†ãƒªãƒ³ã‚¯ï¼ˆä»»æ„ã€å¸¸æ™‚ãƒªãƒ³ã‚¯ï¼‰ -->
      <div id="completeLinkArea" style="margin-top:10px;">
        <a href="complete.html">ğŸ‰ ã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆã‚’ç¢ºèªã™ã‚‹</a>
      </div>
    </div>
  </div>

  <!-- æ—¢å­˜ï¼šã‚¹ãƒãƒƒãƒˆé¸æŠã®å¹ãå‡ºã— -->
  <div id="cameraChooserOverlay" class="camera-chooser-overlay" hidden></div>
  <div id="cameraChooser" class="camera-chooser" hidden role="dialog" aria-modal="true" aria-labelledby="cameraChooserTitle">
    <h3 id="cameraChooserTitle">ã‚¹ãƒãƒƒãƒˆã‚’é¸ã‚“ã§ãã ã•ã„</h3>
    <div id="cameraChooserList" class="list"></div>
    <div class="row safe-pad-bottom"><button id="cameraChooserClose" class="btn btn-secondary" type="button">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button></div>
  </div>

  <!-- â˜… è¿½åŠ ï¼šã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆãƒ»ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆcomplete.html ç›¸å½“ã®å†…å®¹ï¼‰ -->
  <div id="completeOverlay" class="complete-overlay" aria-hidden="true"></div>
  <div id="completeModal" class="complete-modal" role="dialog" aria-modal="true" aria-labelledby="completeTitle" aria-describedby="completeLead">
    <h2 id="completeTitle" class="complete-title">ğŸ‰ ã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆï¼</h2>
    <p id="completeLead" class="complete-lead">å…¨ã¦ã®ã‚¹ã‚¿ãƒ³ãƒ—ã‚’é›†ã‚ã¾ã—ãŸã€‚ã”å‚åŠ ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼</p>
    <div class="complete-row safe-pad-bottom">
      <button id="closeComplete" class="btn btn-secondary" type="button">ãƒãƒƒãƒ—ã«æˆ»ã‚‹</button>
      <a id="toSurvey" class="btn" href="post-survey.html">ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã¸ï¼ˆãŠç­”ãˆã„ãŸã ã„ãŸæ–¹ã«ã¯ã‚¹ãƒšã‚·ãƒ£ãƒ«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒã‚ã‚Šã¾ã™ï¼ï¼‰</a>
    </div>
  </div>

  <!-- ã‚¹ã‚¯ãƒªãƒ—ãƒˆ -->
  <script src="js/firebase.js" defer></script>
  <script src="js/map.js?v=20250926c" defer></script>
</body>
</html>
