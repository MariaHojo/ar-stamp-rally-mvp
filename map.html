<!DOCTYPE html> 
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>マップ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="css/style.css">
  <style>
    /* 画像マップ用の最小スタイル（既存CSSに無ければ使われます） */
    .map-wrap { position: relative; max-width: 900px; margin: 12px auto; }
    .map-image { width: 100%; height: auto; display: block; border-radius: 12px; box-shadow: 0 6px 24px rgba(0,0,0,.08); user-select: none; -webkit-user-drag: none; }
    .pin { position: absolute; width: 44px; height: 44px; transform: translate(-50%, -100%); cursor: pointer; touch-action: manipulation; }
    .pin img { width: 100%; height: 100%; display: block; }
    .legend { max-width: 900px; margin: 8px auto 0; padding: 8px 12px; font-size: 14px; background: #f6f7fb; border-radius: 10px; color: #333; }
    .legend strong { color: #0a58ca; }
    /* 既存の #mapContainer は幅合わせだけ */
    #mapContainer { max-width: 900px; margin: 0 auto; }
  </style>
  <script src="js/map.js" defer></script>
</head>
<body>
  <!-- メニューバー（既存） -->
  <div id="menuBar">
    <a href="tutorial.html">チュートリアル</a> |
    <a href="terms.html" target="_blank" rel="noopener">利用規約</a> |
    <button id="stampToggle" class="stamp-toggle">▼スタンプ帳</button>
    <div id="stampBook" class="stamp-book">
      <table>
        <tr>
          <td><img src="assets/images/stamp1.png" alt="スタンプ1" class="stamp-img" /></td>
        </tr>
      </table>
    </div>
  </div>

  <!-- ここに「地図画像＋ピン」を表示 -->
  <div id="mapContainer">
    <div class="map-wrap" id="mapWrap">
      <!-- 学内地図の画像（差し替えてください） -->
      <img src="assets/images/campus-map.png" alt="学内マップ" class="map-image" id="mapImage" />

      <!-- ピン：left/top は % で配置（画像サイズに追従） -->
      <!-- spot1 -->
      <button class="pin"
              style="left: 32%; top: 58%;"
              data-spot-id="spot1"
              data-lat="35.000100"
              data-lng="135.000200"
              aria-label="スポット1を開く（Googleマップ）">
        <img src="assets/images/pin.png" alt="">
      </button>

      <!-- spot2 -->
      <button class="pin"
              style="left: 61%; top: 41%;"
              data-spot-id="spot2"
              data-lat="35.000500"
              data-lng="135.000900"
              aria-label="スポット2を開く（Googleマップ）">
        <img src="assets/images/pin.png" alt="">
      </button>

      <!-- spot3 -->
      <button class="pin"
              style="left: 78%; top: 72%;"
              data-spot-id="spot3"
              data-lat="35.001200"
              data-lng="135.001800"
              aria-label="スポット3を開く（Googleマップ）">
        <img src="assets/images/pin.png" alt="">
      </button>
    </div>

    <div class="legend">
      <p>
        ピンをタップすると <strong>Google マップ</strong> が開きます。<br>
        案内に従ってスポットへ移動 → 着いたら <strong>カメラを起動してマーカーを読み取り</strong> → AR を体験したあと解説ページへ進みます。
      </p>
    </div>
  </div>

  <!-- カメラ起動（既存） -->
  <button id="cameraBtn">カメラ起動</button>
</body>
</html>
